---
import { Image } from 'astro:assets';
import kamelieLogo from '../images/kamelie-logo.png'
import i18next, { t } from "i18next";
import { localizePath } from "astro-i18next";

let link = "https://www.booking.com/hotel/cz/kama-c-lie.cs.html"
if (i18next.language != "cs") {
    link = "https://www.booking.com/hotel/cz/kama-c-lie.en.html"
}
---

<header id="stickyHeader" class="sticky top-0 z-10 bg-white shadow-even h-auto rounded-2xl flex justify-between font-bold">
    <a href={localizePath("/Penzion-Kamelie/")}>
        <Image src={kamelieLogo} alt="KamÃ©lie logo" height="100" width="250" class="p-5" />
    </a>
    <nav class="flex items-center mr-5">
        <ul class="flex gap-10 text-lg text-primary ">
            <li class="hover:text-secondary transition-colors duration-200">
                <a href={localizePath("/Penzion-Kamelie/")}>{t("header.main")}</a>
            </li>
            <li class="hover:text-secondary transition-colors duration-200">
                <a href={localizePath("/Penzion-Kamelie/#")}>{t("header.pricelist")}</a>
            </li>
            <li class="hover:text-secondary transition-colors duration-200">
                <a href={localizePath("/Penzion-Kamelie/#")}>{t("header.housing")}</a>
            </li>
            <li class="hover:text-secondary transition-colors duration-200">
                <a class="cursor-pointer">{t("header.other")}</a>
            </li>
            <li class="text-white hover:drop-shadow-xl transition-all duration-200">
                <a class="bg-accent py-3 px-4 rounded-xl" href={link} target="_blank">
                    Booking.com
                </a>
            </li>
        </ul>
    </nav>
</header>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        let header = document.getElementById("stickyHeader");
        let lastScroll = 0;

        window.addEventListener("scroll", function() {
            let currentScroll = window.scrollY;

            if (currentScroll > lastScroll) {
                header.classList.remove("rounded-2xl");
                header.classList.add("rounded-b-2xl")
            } else if(currentScroll <= 12) {
                header.classList.add("rounded-2xl");
            }

            lastScroll = currentScroll;
        });
    });
</script>